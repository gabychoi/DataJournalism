var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.name=e}return e.prototype.eval=function(){},e}();e.AbstractEvent=t}(t=e.Event||(e.Event={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";function t(e){"undefined"!=typeof console&&console.log("PubTag [DEBUG]:"+e)}function n(e){"undefined"!=typeof console&&console.log("PubTag [WARNING]:"+e)}function i(e){"undefined"!=typeof console?console.log("PubTag [ERROR]:"+e):alert("PubTag [ERROR]:"+e)}e.Debug=t,e.Warning=n,e.Error=i}(t=e.Log||(e.Log={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this._allowedPixelLoaded=!1,this._blockedPixelFailed=!1}return e.prototype.isAdBlocked=function(t,n){var i=this,r="https:"===t?"https:":"http:",o=r+e.allowedPixelUrl,a=r+e.blockedPixelUrl;this.createPixel(o,function(){i._allowedPixelLoaded=!0,i._blockedPixelFailed===!0&&n(!0)},function(){}),this.createPixel(a,function(){n(!1)},function(){i._blockedPixelFailed=!0,i._allowedPixelLoaded===!0&&n(!0)})},e.prototype.createPixel=function(e,t,n){var i=document.getElementsByTagName("script")[0],r=document.createElement("img");r.src=e,r.height=1,r.width=1,r.style.display="none",r.onload=t,r.onerror=n,"HTMLImageElement"==typeof r&&i.parentNode.insertBefore(r,i)},e.allowedPixelUrl="//static.criteo.net/images/pixel.gif?ch=1",e.blockedPixelUrl="//static.criteo.net/images/pixel.gif?ch=2",e}();e.AdBlocker=t}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,n){this._url=e,this._data=t,this._contentType=n}return e.prototype.send=function(e,t,n){var i=void 0!==this._data?"POST":"GET",r=this.getXMLHttpRequest(i,e,t,n);if(void 0!==r)r.send(this._data);else{var o=this.getXDomainRequest(i,e,t,n);void 0!==o&&o.send(this._data)}},e.prototype.getXMLHttpRequest=function(t,n,i,r){var o=new XMLHttpRequest;return"withCredentials"in o?(o.open(t,this._url,!0),o.timeout=e.LOCAL_PASSBACK_TIMEOUT,this._contentType?o.setRequestHeader("Content-type",this._contentType):"POST"===t&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.withCredentials=!0,o.onload=function(){4===o.readyState&&200===o.status?n(o.responseText):i(o.readyState,o.status)},o.ontimeout=r,o):void 0},e.prototype.getXDomainRequest=function(t,n,i,r){if("undefined"!=typeof XDomainRequest){var o=new XDomainRequest;return o.timeout=e.LOCAL_PASSBACK_TIMEOUT,o.open(t,this._url),o.onload=function(){void 0!==o.responseText?n(o.responseText):i(void 0,void 0)},o.ontimeout=r,o}},e.LOCAL_PASSBACK_TIMEOUT=3e4,e}();e.AsyncRequest=t}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(e){function t(n,i,r){e.call(this,t.NAME),this._condition=n,this._eventIfTrue=i,this._eventIfFalse=r}return __extends(t,e),t.prototype.eval=function(e){this._condition.apply(this)?this._eventIfTrue.eval(e):this._eventIfFalse.eval(e)},t.NAME="conditionalEvent",t}(e.AbstractEvent);e.ConditionalEvent=t}(t=e.Event||(e.Event={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e.getHighestAccessibleWindow=function(e){var t=e,n=!1;try{for(;t.parent.document!==t.document;){if(!t.parent.document){n=!0;break}t=t.parent}}catch(i){n=!0}return{topFrame:t,err:n}},e.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e}();e.DomManipulationTools=t}(t=e.Display||(e.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";var t=function(){function t(t,n){this.charset=t.charset?t.charset:t.characterSet?t.characterSet:"";var i=e.Display.DomManipulationTools.getHighestAccessibleWindow(n);this.displayContext=this.getDisplayContext(i),this.highestAccessibleUrl=this.getHighestAccessibleUrl(i),this.location=n.location,this.protocol=n.location.protocol,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[]}return t.prototype.getHighestAccessibleUrl=function(e){var t=e.topFrame,n=e.err,i="";if(n)try{if(i=t.top.location.href,!i){var r=t.location.ancestorOrigins;i=r[r.length-1]}}catch(o){i=t.document.referrer}else i=t.location.href;return i},t.prototype.getDisplayContext=function(t){return e.Display.DomManipulationTools.inIframe()?t.err?e.DisplayContext.InUnfriendlyIframe:e.DisplayContext.InFriendlyIframe:e.DisplayContext.DirectIntegration},t}();e.Context=t}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(e){function t(n){e.call(this,t.NAME),this._function=n}return __extends(t,e),t.prototype.eval=function(){this._function&&this._function.apply(this)},t.NAME="genericEvent",t}(e.AbstractEvent);e.Custom=t}(t=e.Event||(e.Event={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";!function(e){e[e.Unspecified=0]="Unspecified",e[e.AMP=1]="AMP"}(e.IntegrationMode||(e.IntegrationMode={})),e.IntegrationMode}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";!function(e){e[e.AFR=0]="AFR",e[e.AJS=1]="AJS"}(e.HandlerType||(e.HandlerType={})),e.HandlerType}(t=e.Display||(e.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){"use strict";var n=function(){function n(){var e=this;this.integrationMode=t.IntegrationMode.Unspecified,this.paramParser={},this.paramParser.integrationmode=function(t){e.integrationMode=e.parseIntegrationMode(t)}}return n.prototype.tryFillParameters=function(t){var n;for(n in t)if(void 0!==t[n]){var i=n.toLowerCase();this.paramParser[i]?this.paramParser[i](t[n]):e.Log.Warning("Unknown parameter: "+n)}},n.prototype.parseIntegrationMode=function(e){switch(e.toLowerCase()){case"amp":return t.IntegrationMode.AMP;default:return t.IntegrationMode.Unspecified}},n}();t.InputParameters=n}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(e){function t(t){var n=this;e.call(this),this.zoneid=void 0,this.async=void 0,this.containerid=void 0,this.width=void 0,this.height=void 0,this.callbackSuccess=void 0,this.callbackError=void 0,this.callIfNotAdblocked=void 0,this.passbackCode=void 0,this.publisherUrl=void 0,this.overridenWpdt0=void 0,this.overridenCt0=void 0,this.layout=void 0,this.atfRatio=void 0,this.overrideZoneFloor=!0,this.collapseContainerIfNotAdblocked=!0,this.extraData={},this.paramParser.zoneid=function(e){n.zoneid=e},this.paramParser.async=function(e){n.async=e===!0},this.paramParser.containerid=function(e){n.containerid=e},this.paramParser.width=function(e){n.width=e},this.paramParser.height=function(e){n.height=e},this.paramParser.callbacksuccess=function(e){n.callbackSuccess=e},this.paramParser.callbackerror=function(e){n.callbackError=e},this.paramParser.callifnotadblocked=function(e){n.callIfNotAdblocked=e},this.paramParser.passbackcode=function(e){n.passbackCode=e},this.paramParser.layout=function(e){n.layout=e},this.paramParser.publishercreativeconfiguration=this.paramParser.layout,this.paramParser.extradata=function(e){n.extraData=e},this.paramParser.publisherurl=function(e){n.publisherUrl=e},this.paramParser.wpdt0=function(e){n.overridenWpdt0=e},this.paramParser.ct0=function(e){n.overridenCt0=e},this.paramParser.overridezonefloor=function(e){n.overrideZoneFloor=e},this.paramParser.collapsecontainerifnotadblocked=function(e){n.collapseContainerIfNotAdblocked=e},e.prototype.tryFillParameters.call(this,t)}return __extends(t,e),t}(e.PubTag.InputParameters);t.DisplayInputParameters=n}(n=t.Display||(t.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){"use strict";!function(e){e[e.InFriendlyIframe=1]="InFriendlyIframe",e[e.InUnfriendlyIframe=2]="InUnfriendlyIframe",e[e.DirectIntegration=3]="DirectIntegration"}(e.DisplayContext||(e.DisplayContext={})),e.DisplayContext}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(n){"use strict";var i=function(){function i(){}return i.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},i.prototype.buildUrl=function(r,o,a,s,l){var c;c=a===n.HandlerType.AFR?i.CAS_URL_AFR:i.CAS_URL_AJS;var u="https:"===o.protocol?"https:":"http:",d=u+c+"?ptv="+e.PublisherTag.VERSION;if(o.isAdBlocked===!0){var p=this.getAbpParameter(r,o);d+="&abp="+String(p)}a!==n.HandlerType.AFR&&(d+=void 0!==r.containerid&&""!==r.containerid?"&containerid="+encodeURIComponent(r.containerid):""),d+="&zoneid="+String(r.zoneid),d+=s?"&width="+s:"",d+=l?"&height="+l:"",d+="&cb="+String(i.getRandomNumber()),d+="&nodis="+(o.dising?"0":"1"),d+=o.charset?"&charset="+o.charset:"",d+=r.overridenCt0?"&ct0="+encodeURIComponent(r.overridenCt0):o.ct0?"&ct0="+encodeURIComponent(o.ct0):"",d+=r.overridenWpdt0?"&wpdt0="+encodeURIComponent(r.overridenWpdt0):o.wpdt0?"&wpdt0="+encodeURIComponent(o.wpdt0):"",d+=r.publisherUrl?"&publisherurl="+encodeURIComponent(r.publisherUrl):"";for(var h in r.extraData)void 0!==r.extraData[h]&&(d+="&"+h+"="+encodeURIComponent(r.extraData[h]));d+=r.passbackCode?"&dlp=1":"",r.integrationMode!==t.IntegrationMode.Unspecified&&(d+="&im="+r.integrationMode),d+="&dc="+o.displayContext;var f=Math.round(100*r.atfRatio)/100;return d+=void 0!==r.atfRatio?"&atfr="+f:"",d+=o.highestAccessibleUrl?"&loc="+encodeURIComponent(o.highestAccessibleUrl).substring(0,1600):""},i.prototype.getAbpParameter=function(e,t){var n=t.isAdBlocked?1:0,i=e.overrideZoneFloor?0:2;return n|i},i.CAS_URL_AJS="//cas.criteo.com/delivery/ajs.php",i.CAS_URL_AFR="//cas.criteo.com/delivery/afr.php",i}();n.DisplayUrlBuilder=i}(n=t.Display||(t.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(t){"use strict";var n=function(){function n(){}return n.prototype.GetAtfRatio=function(t,i){var r=document.getElementById(i);if(t.displayContext==e.DisplayContext.DirectIntegration){if(null!==r)return n.getRatioAboveFold(r);document.write("<div id='compute_visibility_helper' width='0px' height='0px'></div>");var o=document.getElementById("compute_visibility_helper"),a=n.getRatioAboveFold(o);return o.parentElement.removeChild(o),a}return t.displayContext==e.DisplayContext.InFriendlyIframe?n.getRatioAboveFold(frameElement):void 0},n.getRatioAboveFold=function(e){var n=t.DomManipulationTools.getHighestAccessibleWindow(window).topFrame,i=n.document,r=n.innerHeight||i.documentElement.clientHeight||i.body.clientHeight,o=e.getBoundingClientRect(),a=i.documentElement.scrollTop||i.body.scrollTop;return r>=o.bottom+a?1:r<=o.top+a?0:(r-o.top-a)/e.offsetHeight},n}();t.ViewabilityComputer=n}(t=e.Display||(e.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(e){function t(t,n,i){e.call(this,t),this._displayParameters=i,this._urlBuilder=n}return __extends(t,e),t.prototype.eval=function(e){this._displayParameters.atfRatio=e.viewabilityComputer.GetAtfRatio(e.context,this._displayParameters.containerid)},t.prototype.buildCasUrl=function(e,t,n,i){return this._urlBuilder.buildUrl(this._displayParameters,e,t,n,i)},t}(e.PubTag.Event.AbstractEvent);t.DisplayEvent=n}(n=t.Display||(t.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){"use strict";var t=function(){function t(){this._canProcessConditionalEvents=void 0,this._events=[],this.context=new e.PubTag.Context(document,window),this.viewabilityComputer=new e.PubTag.Display.ViewabilityComputer,this._adblocker=new e.PubTag.AdBlocker,e.Log.Debug("Publisher Tag loaded")}return t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<e.length;++n){var i=e[n];this._events.push(i)}this.evalEvents()},t.prototype.checkAdblocker=function(){if(void 0===this._canProcessConditionalEvents){var e=this;this._canProcessConditionalEvents=!1,this._adblocker.isAdBlocked(this.context.protocol,function(t){e.context.isAdBlocked=t,e._canProcessConditionalEvents=!0,e.evalEvents()})}},t.prototype.evalEvents=function(){for(var e=0;e<this._events.length;)if("conditionalEvent"===this._events[e].name&&this._canProcessConditionalEvents===!1)e++;else{var t=this._events.splice(e,1);t[0].eval(this)}},t.VERSION=9,t}();e.PublisherTag=t}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(){function t(e){void 0===e&&(e=!1),this.auditMode=e}return t.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},t.prototype.buildUrl=function(n,i){var r="https:"===i.protocol?"https:":"http:",o=r+t.CRITEO_BIDDER_URL+this.getHandlerPath()+"?ptv="+e.PublisherTag.VERSION;return o+="&profileId="+String(n),o+="&cb="+String(t.getRandomNumber())},t.prototype.getHandlerPath=function(){return this.auditMode?t.CRITEO_BIDDER_AUDIT_HANDLER:t.CRITEO_BIDDER_HANDLER},t.CRITEO_BIDDER_URL="//bidder.criteo.com/",t.CRITEO_BIDDER_HANDLER="cdb",t.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",t}();t.DirectBiddingUrlBuilder=n}(n=t.DirectBidding||(t.DirectBidding={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.impId=e,this.zoneId=t}return e}();e.DirectBiddingSlot=t}(t=e.DirectBidding||(e.DirectBidding={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(t){function n(e,i,r,o,a,s){t.call(this,n.NAME),this._profileId=e,this._urlBuilder=i,this._slots=r,this._callbackSuccess=o,this._callbackError=a,this._callbackTimeout=s}return __extends(n,t),n.buildAuctionRequest=function(e,t){var n=[];return e.forEach(function(e){n.push({impid:e.impId,zoneid:e.zoneId})}),{publisher:{url:t.highestAccessibleUrl},slots:n}},n.prototype.eval=function(t){if(!this.isValidRequest())return void this._callbackError();var i=JSON.stringify(n.buildAuctionRequest(this._slots,t.context)),r=this._urlBuilder.buildUrl(this._profileId,t.context),o=new e.PubTag.AsyncRequest(r,i,"application/x-www-form-urlencoded"),a=this;o.send(function(e){void 0!==a._callbackSuccess&&a._callbackSuccess(e)},function(e,t){void 0!==a._callbackError&&a._callbackError(e,t)},function(){void 0!==a._callbackTimeout&&a._callbackTimeout()})},n.prototype.isValidRequest=function(){return this._slots.length>0},n.NAME="directbidding",n}(e.PubTag.Event.AbstractEvent);t.DirectBiddingEvent=n}(n=t.DirectBidding||(t.DirectBidding={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(t){function n(e,i,r){t.call(this,n.NAME,e,i),this._respectsEyeoDeal=r}return __extends(n,t),n.prototype.eval=function(n){t.prototype.eval.call(this,n);var i=this._displayParameters.containerid,r=this._displayParameters.callbackSuccess,o=this._displayParameters.callbackError,a=this.buildCasUrl(n.context,e.HandlerType.AFR);if(n.context.isAdBlocked){if(!this._respectsEyeoDeal)return;this.loadIframe(a,i,r,o)}else this.loadIframe(a,i,r,o)},n.prototype.loadIframe=function(e,t,n,i){var r=document.createElement("iframe");r.src=e,r.id=t+"_cto_iframe",r.frameBorder="0",r.hspace=0,r.vspace=0,r.marginWidth="0px",r.marginHeight="0px",r.width="100%",r.height="100%",r.scrolling="no",r.onload=n,r.onerror=i;var o=document.getElementById(t);o.appendChild(r)},n.NAME="displayAfr",n}(e.DisplayEvent);e.DisplayEventAFR=t}(t=e.Display||(e.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var Display;!function(Display){"use strict";var DisplayEventAsync=function(_super){function DisplayEventAsync(e,t){_super.call(this,DisplayEventAsync.NAME,e,t)}return __extends(DisplayEventAsync,_super),DisplayEventAsync.prototype.eval=function(e){var t=this;_super.prototype.eval.call(this,e);var n=this._displayParameters.containerid,i=this._displayParameters.width,r=this._displayParameters.height,o=this._displayParameters.layout,a=this._displayParameters.callbackSuccess,s=this._displayParameters.callbackError,l=this._displayParameters.passbackCode;if(""===n||void 0===n)Criteo.Log.Error("No containerid provided");else if(void 0!==o){var c=DisplayEventAsync.CHAPI_NAME+"="+encodeURIComponent(JSON.stringify(o)),u=function(){var o=t.getContainerSize(n,i,r),u=t.buildCasUrl(e.context,void 0,o.width,o.height);t.loadScriptAsync(u,c,a,s,l)};void 0!==i&&void 0!==r?u():window.addEventListener?window.addEventListener("load",u,!1):window.attachEvent("onload",u)}else{var d=this.buildCasUrl(e.context);this.loadScriptAsync(d,void 0,a,s,l)}},DisplayEventAsync.prototype.loadScriptAsync=function(url,data,callBackSuccess,callbackFail,passbackCode){var request=new Criteo.PubTag.AsyncRequest(url,data);request.send(function(responseText){var pb=passbackCode?passbackCode:function(){};eval(responseText),void 0!==callBackSuccess&&callBackSuccess(responseText)},function(e,t){void 0!==passbackCode&&passbackCode(),void 0!==callbackFail&&callbackFail(e,t)},passbackCode)},DisplayEventAsync.prototype.getContainerSize=function(e,t,n){var i=document.getElementById(e),r=Display.DomManipulationTools.inIframe(),o=t?t:r?document.body.offsetWidth:i.offsetWidth,a=n?n:r?document.body.offsetHeight:i.offsetHeight;return 0!==a&&0!==o||(a=void 0,o=void 0),{width:o,height:a}},DisplayEventAsync.NAME="displayEventAsync",DisplayEventAsync.CHAPI_NAME="publisherCreativeConfiguration",DisplayEventAsync}(Display.DisplayEvent);Display.DisplayEventAsync=DisplayEventAsync}(Display=PubTag.Display||(PubTag.Display={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(e){function t(n,i){e.call(this,t.NAME,n,i)}return __extends(t,e),t.prototype.eval=function(t){e.prototype.eval.call(this,t);var n=this.buildCasUrl(t.context);this.loadScriptSync(n)},t.prototype.loadScriptSync=function(e){document.write("<script type='text/javascript' src='"+e+"'></script>")},t.NAME="displaySync",t}(e.DisplayEvent);e.DisplayEventSync=t}(t=e.Display||(e.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={})),window.criteo_pubtag||(window.criteo_pubtag=new Criteo.PublisherTag);var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(){function n(){}return n.prototype.respectsEyeoDeal=function(e){var t=document.getElementById(e),i=this.respectsSizeConstraints(t);if(!i)return!1;var r=this.getNewRatiosFeatures(t),o=r.respectsAdRatioConstraint,a=o;return a&&(n.atfRatio=r.newAtfRatio,n.btfRatio=r.newBtfRatio),a},n.prototype.respectsSizeConstraints=function(t){var n=this.getAdLocationAttribute(t);switch(n){case"above-content":return t.offsetHeight<=200;case"in-content":return!1;case"below-content":return t.offsetHeight<=400;case"side-content":return t.offsetWidth<=350;default:return void 0!==n&&e.Log.Error("Unknown data-ad-loc attribute : "+n),!0}},n.prototype.getAdLocationAttribute=function(e){return e.getAttribute("data-ad-loc")?e.getAttribute("data-ad-loc"):void 0},n.prototype.getNewRatiosFeatures=function(e){var i=!1,r=t.ViewabilityComputer.getRatioAboveFold(e),o=e.offsetHeight*e.offsetWidth,a=screen.width*screen.height,s=n.atfRatio+r*o/a,l=n.btfRatio+(1-r)*o/a;return i=.15>=s&&.25>=l,{respectsAdRatioConstraint:i,newAtfRatio:s,newBtfRatio:l}},n.atfRatio=0,n.btfRatio=0,n}();t.EyeoDealValidator=n}(n=t.Display||(t.Display={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){"use strict";function t(t){var n=new e.PubTag.Display.DisplayInputParameters(t);if(n.async=n.async!==!1,void 0===n.zoneid)return void e.Log.Error("missing parameter 'zoneid'");if(void 0!==n.layout&&n.async===!1)return void e.Log.Error("Criteo hosted ads only work in async mode");if(n.async===!0&&(void 0===n.containerid||""===n.containerid))return void e.Log.Error("Missing parameter 'containerid' for an async display");n.async===!1&&void 0!==n.passbackCode&&(e.Log.Error("Criteo.DisplayAd does not support synchronous local passback"),n.passbackCode=void 0);var i;i=n.async?new e.PubTag.Display.DisplayEventAsync(new e.PubTag.Display.DisplayUrlBuilder,n):new e.PubTag.Display.DisplayEventSync(new e.PubTag.Display.DisplayUrlBuilder,n),window.criteo_pubtag.push(i)}function n(t){var n=new e.PubTag.Display.DisplayInputParameters(t);if(void 0===n.zoneid)return void e.Log.Error("missing parameter 'zoneid'");if(void 0===n.containerid||""===n.containerid)return void e.Log.Error("missing parameter 'containerid' to display acceptable ads");if(!i(document.getElementById(n.containerid)))return void e.Log.Error("can't display acceptable ad : the container \""+n.containerid+'" is not visible');window.criteo_pubtag.checkAdblocker();var r,o=new e.PubTag.Display.EyeoDealValidator;r=new e.PubTag.Display.DisplayEventAFR(new e.PubTag.Display.DisplayUrlBuilder,n,o.respectsEyeoDeal(n.containerid));var a;a=new e.PubTag.Event.Custom(function(){if(n.collapseContainerIfNotAdblocked){var e=document.getElementById(n.containerid);e.style.display="none"}void 0!==n.callIfNotAdblocked&&n.callIfNotAdblocked()});var s,l=function(){return window.criteo_pubtag.context.isAdBlocked===!0};s=new e.PubTag.Event.ConditionalEvent(l,r,a),window.criteo_pubtag.push(s)}function i(e){if(e===document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){if("none"===e.style.display)return!1;if("hidden"===e.style.visibility)return!1}if(window.getComputedStyle){var t=window.getComputedStyle(e,"");if("none"===t.display)return!1;if("hidden"===t.visibility)return!1}var n=e.currentStyle;if(n){if("none"===n.display)return!1;if("hidden"===n.visibility)return!1}return i(e.parentNode)}e.DisplayAd=t,e.DisplayAcceptableAdIfAdblocked=n}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";t.DefaultCrtgContentName="crtg_content",t.DefaultCrtgRtaCookieName="crtg_rta";var n=function(e){function t(t){var n=this;e.call(this),this.networkId=void 0,this.crtgContentName=void 0,this.crtgRtaCookieName=void 0,this.adserver=void 0,this.paramParser.networkid=function(e){n.networkId=e},this.paramParser.varname=function(e){n.crtgContentName=e},this.paramParser.cookiename=function(e){n.crtgRtaCookieName=e},this.paramParser.adserver=function(e){n.adserver=e},e.prototype.tryFillParameters.call(this,t)}return __extends(t,e),t}(e.PubTag.InputParameters);t.RtaInputParameters=n}(n=t.RTA||(t.RTA={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(n){"use strict";var i=function(){function n(){}return n.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},n.prototype.buildUrl=function(i,r){var o="https:"===r.protocol?"https:":"http:",a=o+n.RTA_URL+"?ptv="+e.PublisherTag.VERSION;return r.isAdBlocked===!0&&(a+="&abp=1"),a+="&netid="+String(i.networkId),a+=i.crtgRtaCookieName?"&cookieName="+encodeURIComponent(i.crtgRtaCookieName):"",a+=i.crtgContentName?"&varName="+encodeURIComponent(i.crtgContentName):"",a+="&rnd="+String(n.getRandomNumber()),i.integrationMode!==t.IntegrationMode.Unspecified&&(a+="&im="+i.integrationMode),a},n.RTA_URL="//rtax.criteo.com/delivery/rta/rta.js",n}();n.RtaUrlBuilder=i}(n=t.RTA||(t.RTA={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var RTA;!function(RTA){"use strict";var RtaEvent=function(_super){function RtaEvent(e,t){_super.call(this,RtaEvent.NAME),this.urlBuilder=e,this.parameters=t}return __extends(RtaEvent,_super),RtaEvent.prototype.eval=function(e){_super.prototype.eval.call(this,e);var t=this.urlBuilder.buildUrl(this.parameters,e.context),n=new Criteo.PubTag.AsyncRequest(t),i=function(){return Criteo.Log.Error("An error occured while calling "+t)},r=this.parameters.crtgContentName?this.parameters.crtgContentName:Criteo.PubTag.RTA.DefaultCrtgContentName,o=e.context.rtaVarNames.indexOf(r,0);-1===o&&e.context.rtaVarNames.push(r),n.send(this.executeScript,i)},RtaEvent.prototype.executeScript=function(responseText){eval(responseText)},RtaEvent.NAME="rtaEvent",RtaEvent}(Criteo.PubTag.Event.AbstractEvent);RTA.RtaEvent=RtaEvent}(RTA=PubTag.RTA||(PubTag.RTA={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){var t;!function(t){var n;!function(t){"use strict";var n=function(t){function n(e,i){t.call(this,n.NAME),this.adserver=e,this.targetingValues=i}return __extends(n,t),n.prototype.eval=function(){if(void 0===this.adserver)return void e.Log.Error("undefined adserver");switch(this.adserver.toLowerCase()){case"dfp":this.setTargetingDFP(this.targetingValues);break;default:e.Log.Error("unknown adserver '"+this.adserver+"'")}},n.prototype.setTargetingDFP=function(e){void 0===window.googletag&&(window.googletag={});var t=window.googletag;t.cmd=t.cmd||[],t.cmd.push(function(){for(var n in e)e.hasOwnProperty(n)&&t.pubads().setTargeting(""+n,""+e[n])})},n.NAME="rtaTargetingEvent",n}(e.PubTag.Event.AbstractEvent);t.RtaTargetingEvent=n}(n=t.RTA||(t.RTA={}))}(t=e.PubTag||(e.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(e){"use strict";function t(e){if(void 0===e||""===e)return{};for(var t=e.split(";"),n={},i=0;i<t.length;i++)if(""!==t[i]){var r=t[i].split("=");if(2===r.length){var o=r[0],a=r[1];n[o]=n[o]||[],n[o].push(""+a)}}return n}function n(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n],r=i.substr(0,i.indexOf("=")),o=i.substr(i.indexOf("=")+1);if(r=r.replace(/^\s+|\s+$/g,""),r===e)return decodeURIComponent(o)}return""}e.ExtractKeyValuesFromRtaResponse=t,e.ReadCookie=n}(Criteo||(Criteo={}));var Criteo;!function(e){"use strict";function t(t){var n=new e.PubTag.RTA.RtaInputParameters(t);if(void 0===n.networkId)return void e.Log.Error("missing parameter 'networkid'");var i=n.crtgContentName?n.crtgContentName:e.PubTag.RTA.DefaultCrtgContentName,r=n.crtgRtaCookieName?n.crtgRtaCookieName:e.PubTag.RTA.DefaultCrtgRtaCookieName;window[i]=e.ReadCookie(r);var o=new e.PubTag.RTA.RtaEvent(new e.PubTag.RTA.RtaUrlBuilder,n);window.criteo_pubtag.push(o)}function n(t){var n=new e.PubTag.RTA.RtaInputParameters(t);if(void 0===n.adserver)return void e.Log.Error("missing parameter 'adserver'");var i=[];void 0!==n.crtgContentName?i.push(n.crtgContentName):window.criteo_pubtag.context.rtaVarNames.length>0?window.criteo_pubtag.context.rtaVarNames.forEach(function(e){i.push(e)}):i.push(e.PubTag.RTA.DefaultCrtgContentName),i.forEach(function(t){var i=window[t],o=e.ExtractKeyValuesFromRtaResponse(i),a=new e.PubTag.RTA.RtaTargetingEvent(n.adserver,o);window.criteo_pubtag.push(a),r(t)})}function i(t,n){var i=e.ReadCookie(t),o=e.ExtractKeyValuesFromRtaResponse(i);return r(n),o}function r(e){var t=window.criteo_pubtag.context.rtaVarNames.indexOf(e,0);t>-1&&window.criteo_pubtag.context.rtaVarNames.splice(t,1)}e.CallRTA=t,e.SetTargeting=n,e.ComputeDFPTargetingForAMP=i}(Criteo||(Criteo={})),window.Criteo=window.Criteo||{};var criteoQueuedEvents=[];window.Criteo.events&&Array.isArray(window.Criteo.events)&&(criteoQueuedEvents=window.Criteo.events),window.Criteo.events={push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if("undefined"!=typeof e)for(var n=0;n<e.length;n++){var i=e[n];"function"==typeof i&&i()}}},window.Criteo.events.push.apply(window.Criteo.events,criteoQueuedEvents);